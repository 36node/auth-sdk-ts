{
  "hash": "dee4ddd1836e5c85e22df23fb64364c4680ee27ca1b5bf56d5cae306f8926dc0",
  "openapi": "3.0.0",
  "paths": {
    "/hello": {
      "get": {
        "operationId": "hello",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Hello!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppResult"
                }
              }
            }
          }
        },
        "summary": "health check",
        "tags": [
          "app"
        ]
      }
    },
    "/cleanup": {
      "get": {
        "operationId": "cleanup",
        "parameters": [],
        "responses": {
          "200": {
            "description": "clean up result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppResult"
                }
              }
            }
          }
        },
        "summary": "clearnup all data",
        "tags": [
          "app"
        ]
      }
    },
    "/auth/@login": {
      "post": {
        "operationId": "login",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The session with token has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionWithToken"
                }
              }
            }
          }
        },
        "summary": "login with username/phone/email and password",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/authorizer": {
      "get": {
        "operationId": "getAuthorizer",
        "parameters": [
          {
            "name": "provider",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "redirectUri",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "responseType",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "state",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Authorizer"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/@loginByGithub": {
      "post": {
        "operationId": "loginByGithub",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GithubDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The session with token has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionWithToken"
                }
              }
            }
          }
        },
        "summary": "login by Github",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/@loginByOAuth": {
      "post": {
        "operationId": "loginByOAuth",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OAuthDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The session with token has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionWithToken"
                }
              }
            }
          }
        },
        "summary": "login by OAuth",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/@loginByEmail": {
      "post": {
        "operationId": "loginByEmail",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginByEmailDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The session with token has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionWithToken"
                }
              }
            }
          }
        },
        "summary": "login by email and code",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/@loginByPhone": {
      "post": {
        "operationId": "loginByPhone",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginByPhoneDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The session with token has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionWithToken"
                }
              }
            }
          }
        },
        "summary": "login with phone and code",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/@logout": {
      "post": {
        "operationId": "logout",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LogoutDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "logout",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/@register": {
      "post": {
        "operationId": "register",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The user just created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        },
        "summary": "register with username and password",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/@registerByPhone": {
      "post": {
        "operationId": "registerByPhone",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterbyPhoneDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The user just created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        },
        "summary": "register with phone and code",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/@registerByEmail": {
      "post": {
        "operationId": "registerByEmail",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterByEmailDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The user just created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        },
        "summary": "register with email and code",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/@signToken": {
      "post": {
        "operationId": "signToken",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignTokenDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The token has been successfully signed.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          }
        },
        "summary": "sign token\n为用户签发一个一次性的 token 无法 refresh",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/@refresh": {
      "post": {
        "operationId": "refresh",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The session with token has been successfully refreshed.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionWithToken"
                }
              }
            }
          }
        },
        "summary": "refresh",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/@resetPasswordByPhone": {
      "post": {
        "operationId": "resetPasswordByPhone",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordByPhoneDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Reset password by phone",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/@resetPasswordByEmail": {
      "post": {
        "operationId": "resetPasswordByEmail",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordByEmailDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Reset password by email",
        "tags": [
          "auth"
        ]
      }
    },
    "/captchas": {
      "post": {
        "operationId": "createCaptcha",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCaptchaDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The captcha has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Captcha"
                }
              }
            }
          }
        },
        "summary": "Create captcha",
        "tags": [
          "captcha"
        ]
      },
      "get": {
        "operationId": "listCaptchas",
        "parameters": [
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt",
                "expireAt",
                "-expireAt"
              ]
            }
          },
          {
            "name": "code",
            "required": false,
            "in": "query",
            "description": "验证码",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "key",
            "required": false,
            "in": "query",
            "description": "key",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A paged array of captchas.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Captcha"
                  }
                }
              }
            }
          }
        },
        "summary": "List captchas",
        "tags": [
          "captcha"
        ]
      }
    },
    "/captchas/@count": {
      "post": {
        "operationId": "countCaptchas",
        "parameters": [
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt",
                "expireAt",
                "-expireAt"
              ]
            }
          },
          {
            "name": "code",
            "required": false,
            "in": "query",
            "description": "验证码",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "key",
            "required": false,
            "in": "query",
            "description": "key",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The count of captchas.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          }
        },
        "summary": "Count captchas",
        "tags": [
          "captcha"
        ]
      }
    },
    "/captchas/{captchaId}": {
      "get": {
        "operationId": "getCaptcha",
        "parameters": [
          {
            "name": "captchaId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The captcha with expected id.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Captcha"
                }
              }
            }
          }
        },
        "summary": "Find captcha by id",
        "tags": [
          "captcha"
        ]
      },
      "patch": {
        "operationId": "updateCaptcha",
        "parameters": [
          {
            "name": "captchaId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCaptchaDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The captcha updated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Captcha"
                }
              }
            }
          }
        },
        "summary": "Update captcha",
        "tags": [
          "captcha"
        ]
      },
      "delete": {
        "operationId": "deleteCaptcha",
        "parameters": [
          {
            "name": "captchaId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No content."
          }
        },
        "summary": "Delete captcha",
        "tags": [
          "captcha"
        ]
      }
    },
    "/captchas/@verifyCaptcha": {
      "post": {
        "operationId": "verifyCaptcha",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerifyCaptchaDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Check if the captcha is valid.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerifyCaptchaResultDto"
                }
              }
            }
          }
        },
        "summary": "verify captcha",
        "tags": [
          "captcha"
        ]
      }
    },
    "/email/@sendEmail": {
      "post": {
        "operationId": "sendEmail",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendEmailDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "No content."
          }
        },
        "summary": "Send plain text email",
        "tags": [
          "email"
        ]
      }
    },
    "/email/records": {
      "post": {
        "operationId": "createEmailRecord",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEmailRecordDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The email record has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailRecord"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Create email record",
        "tags": [
          "emailRecord"
        ]
      },
      "get": {
        "operationId": "listEmailRecords",
        "parameters": [
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "发送状态",
            "schema": {
              "$ref": "#/components/schemas/EmailStatus"
            }
          },
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt",
                "sentAt",
                "-sentAt"
              ]
            }
          },
          {
            "name": "createdAt_gt",
            "required": false,
            "in": "query",
            "description": "创建时间大于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "createdAt_lt",
            "required": false,
            "in": "query",
            "description": "创建时间小于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "sentAt_gt",
            "required": false,
            "in": "query",
            "description": "发送时间大于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "sentAt_lt",
            "required": false,
            "in": "query",
            "description": "发送时间小于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "from",
            "required": false,
            "in": "query",
            "description": "发件者",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "to",
            "required": false,
            "in": "query",
            "description": "收件者",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A paged array of email records.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EmailRecord"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "List email records",
        "tags": [
          "emailRecord"
        ]
      }
    },
    "/email/records/@count": {
      "post": {
        "operationId": "countEmailRecords",
        "parameters": [
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "发送状态",
            "schema": {
              "$ref": "#/components/schemas/EmailStatus"
            }
          },
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt",
                "sentAt",
                "-sentAt"
              ]
            }
          },
          {
            "name": "createdAt_gt",
            "required": false,
            "in": "query",
            "description": "创建时间大于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "createdAt_lt",
            "required": false,
            "in": "query",
            "description": "创建时间小于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "sentAt_gt",
            "required": false,
            "in": "query",
            "description": "发送时间大于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "sentAt_lt",
            "required": false,
            "in": "query",
            "description": "发送时间小于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "from",
            "required": false,
            "in": "query",
            "description": "发件者",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "to",
            "required": false,
            "in": "query",
            "description": "收件者",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The count of email records.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Count email records",
        "tags": [
          "emailRecord"
        ]
      }
    },
    "/email/records/{emailRecordId}": {
      "get": {
        "operationId": "getEmailRecord",
        "parameters": [
          {
            "name": "emailRecordId",
            "required": true,
            "in": "path",
            "description": "Email record id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The email record with expected id.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailRecord"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Find email record by id",
        "tags": [
          "emailRecord"
        ]
      },
      "patch": {
        "operationId": "updateEmailRecord",
        "parameters": [
          {
            "name": "emailRecordId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateEmailRecordDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The email record updated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailRecord"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Update email record",
        "tags": [
          "emailRecord"
        ]
      },
      "delete": {
        "operationId": "deleteEmailRecord",
        "parameters": [
          {
            "name": "emailRecordId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No content."
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Delete email record",
        "tags": [
          "emailRecord"
        ]
      }
    },
    "/groups": {
      "post": {
        "operationId": "createGroup",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateGroupDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The group has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Group"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create group",
        "tags": [
          "group"
        ]
      },
      "get": {
        "operationId": "listGroups",
        "parameters": [
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt"
              ]
            }
          },
          {
            "name": "id",
            "required": false,
            "in": "query",
            "description": "按 id 筛选",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "name_like",
            "required": false,
            "in": "query",
            "description": "名称 模糊查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "required": false,
            "in": "query",
            "description": "名称",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "active",
            "required": false,
            "in": "query",
            "description": "是否启用",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A paged array of groups.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Group"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "List groups",
        "tags": [
          "group"
        ]
      }
    },
    "/groups/@count": {
      "post": {
        "operationId": "countGroups",
        "parameters": [
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt"
              ]
            }
          },
          {
            "name": "id",
            "required": false,
            "in": "query",
            "description": "按 id 筛选",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "name_like",
            "required": false,
            "in": "query",
            "description": "名称 模糊查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "required": false,
            "in": "query",
            "description": "名称",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "active",
            "required": false,
            "in": "query",
            "description": "是否启用",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The result of count groups.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Count groups",
        "tags": [
          "group"
        ]
      }
    },
    "/groups/{groupIdOrName}": {
      "get": {
        "operationId": "getGroup",
        "parameters": [
          {
            "name": "groupIdOrName",
            "required": true,
            "in": "path",
            "description": "Group id or name, if name should encodeURIComponent",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The group with expected id or name.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Group"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Find group by id or name",
        "tags": [
          "group"
        ]
      }
    },
    "/groups/{groupId}": {
      "patch": {
        "operationId": "updateGroup",
        "parameters": [
          {
            "name": "groupId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateGroupDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The group updated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Group"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update group",
        "tags": [
          "group"
        ]
      },
      "delete": {
        "operationId": "deleteGroup",
        "parameters": [
          {
            "name": "groupId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No content."
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete group",
        "tags": [
          "group"
        ]
      }
    },
    "/groups/{groupName}/@upsertGroupByName": {
      "post": {
        "operationId": "upsertGroupByName",
        "parameters": [
          {
            "name": "groupName",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateGroupDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The group upserted.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Group"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "根据 groupName 创建 group",
        "tags": [
          "group"
        ]
      }
    },
    "/namespaces": {
      "post": {
        "operationId": "createNamespace",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateNamespaceDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The namespace has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Namespace"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Create namespace",
        "tags": [
          "namespace"
        ]
      },
      "get": {
        "operationId": "listNamespaces",
        "parameters": [
          {
            "name": "key",
            "required": false,
            "in": "query",
            "description": "按 key 查询",
            "schema": {
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "type": "string"
            }
          },
          {
            "name": "key_start",
            "required": false,
            "in": "query",
            "description": "key start 查询",
            "schema": {
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "type": "string"
            }
          },
          {
            "name": "key_tree",
            "required": false,
            "in": "query",
            "description": "key tree 查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "ns",
            "required": false,
            "in": "query",
            "description": "所属命名空间",
            "schema": {
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "type": "string"
            }
          },
          {
            "name": "ns_start",
            "required": false,
            "in": "query",
            "description": "所属命名空间 start 查询",
            "schema": {
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "type": "string"
            }
          },
          {
            "name": "ns_tree",
            "required": false,
            "in": "query",
            "description": "所属命名空间 tree 查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt",
                "key",
                "-key",
                "name",
                "-name"
              ]
            }
          },
          {
            "name": "name_like",
            "required": false,
            "in": "query",
            "description": "名称 模糊查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "labels",
            "required": false,
            "in": "query",
            "description": "标签",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A paged array of namespaces.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Namespace"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "List namespaces",
        "tags": [
          "namespace"
        ]
      }
    },
    "/namespaces/@count": {
      "post": {
        "operationId": "countNamespaces",
        "parameters": [
          {
            "name": "key",
            "required": false,
            "in": "query",
            "description": "按 key 查询",
            "schema": {
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "type": "string"
            }
          },
          {
            "name": "key_start",
            "required": false,
            "in": "query",
            "description": "key start 查询",
            "schema": {
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "type": "string"
            }
          },
          {
            "name": "key_tree",
            "required": false,
            "in": "query",
            "description": "key tree 查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "ns",
            "required": false,
            "in": "query",
            "description": "所属命名空间",
            "schema": {
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "type": "string"
            }
          },
          {
            "name": "ns_start",
            "required": false,
            "in": "query",
            "description": "所属命名空间 start 查询",
            "schema": {
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "type": "string"
            }
          },
          {
            "name": "ns_tree",
            "required": false,
            "in": "query",
            "description": "所属命名空间 tree 查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt",
                "key",
                "-key",
                "name",
                "-name"
              ]
            }
          },
          {
            "name": "name_like",
            "required": false,
            "in": "query",
            "description": "名称 模糊查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "labels",
            "required": false,
            "in": "query",
            "description": "标签",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The result of count namespaces.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Count namespaces",
        "tags": [
          "namespace"
        ]
      }
    },
    "/namespaces/{key}": {
      "get": {
        "operationId": "getNamespace",
        "parameters": [
          {
            "name": "key",
            "required": true,
            "in": "path",
            "description": "Namespace key, key should encodeURIComponent",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The namespace with expected key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Namespace"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Find namespace by key",
        "tags": [
          "namespace"
        ]
      },
      "patch": {
        "operationId": "updateNamespace",
        "parameters": [
          {
            "name": "key",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateNamespaceDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The namespace updated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Namespace"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Update namespace",
        "tags": [
          "namespace"
        ]
      },
      "delete": {
        "operationId": "deleteNamespace",
        "parameters": [
          {
            "name": "key",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No content."
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Delete namespace",
        "tags": [
          "namespace"
        ]
      }
    },
    "/sessions": {
      "post": {
        "operationId": "createSession",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSessionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The session has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Session"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Create session",
        "tags": [
          "session"
        ]
      },
      "get": {
        "operationId": "listSessions",
        "parameters": [
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt",
                "expireAt",
                "-expireAt"
              ]
            }
          },
          {
            "name": "refreshToken",
            "required": false,
            "in": "query",
            "description": "用 key 进行查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "subject",
            "required": false,
            "in": "query",
            "description": "用户或第三方用户 id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "source",
            "required": false,
            "in": "query",
            "description": "如果来自第三方，则会加上 source",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "permissions",
            "required": false,
            "in": "query",
            "description": "角色之外的权限",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "roles",
            "required": false,
            "in": "query",
            "description": "角色",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "groups",
            "required": false,
            "in": "query",
            "description": "用户所属的组",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "ns",
            "required": false,
            "in": "query",
            "description": "user ns",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "description": "用户类型",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "oneTimeUse",
            "required": false,
            "in": "query",
            "description": "一次性的，禁止轮换",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "remark",
            "required": false,
            "in": "query",
            "description": "备注",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A paged array of sessions.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Session"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "List sessions",
        "tags": [
          "session"
        ]
      }
    },
    "/sessions/@count": {
      "post": {
        "operationId": "countSessions",
        "parameters": [
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt",
                "expireAt",
                "-expireAt"
              ]
            }
          },
          {
            "name": "refreshToken",
            "required": false,
            "in": "query",
            "description": "用 key 进行查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "subject",
            "required": false,
            "in": "query",
            "description": "用户或第三方用户 id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "source",
            "required": false,
            "in": "query",
            "description": "如果来自第三方，则会加上 source",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "permissions",
            "required": false,
            "in": "query",
            "description": "角色之外的权限",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "roles",
            "required": false,
            "in": "query",
            "description": "角色",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "groups",
            "required": false,
            "in": "query",
            "description": "用户所属的组",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "ns",
            "required": false,
            "in": "query",
            "description": "user ns",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "description": "用户类型",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "oneTimeUse",
            "required": false,
            "in": "query",
            "description": "一次性的，禁止轮换",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "remark",
            "required": false,
            "in": "query",
            "description": "备注",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The count of sessions.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Count sessions",
        "tags": [
          "session"
        ]
      }
    },
    "/sessions/{sessionId}": {
      "get": {
        "operationId": "getSession",
        "parameters": [
          {
            "name": "sessionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The session with expected id.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Session"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Find session by id",
        "tags": [
          "session"
        ]
      },
      "patch": {
        "operationId": "updateSession",
        "parameters": [
          {
            "name": "sessionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSessionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The session updated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Session"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Update session",
        "tags": [
          "session"
        ]
      },
      "delete": {
        "operationId": "deleteSession",
        "parameters": [
          {
            "name": "sessionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No content."
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Delete session",
        "tags": [
          "session"
        ]
      }
    },
    "/sessions/byKey/{key}": {
      "get": {
        "operationId": "getSessionByKey",
        "parameters": [
          {
            "name": "key",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The session with expected key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Session"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Find session by key",
        "tags": [
          "session"
        ]
      }
    },
    "/sms/@sendSms": {
      "post": {
        "operationId": "sendSms",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendSmsDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "No content."
          }
        },
        "summary": "Send sms",
        "tags": [
          "sms"
        ]
      }
    },
    "/sms/records": {
      "post": {
        "operationId": "createSmsRecord",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSmsRecordDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The sms record has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SmsRecord"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Create sms record",
        "tags": [
          "smsRecord"
        ]
      },
      "get": {
        "operationId": "listSmsRecords",
        "parameters": [
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "发送状态",
            "schema": {
              "$ref": "#/components/schemas/SmsStatus"
            }
          },
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt",
                "sentAt",
                "-sentAt"
              ]
            }
          },
          {
            "name": "createdAt_gt",
            "required": false,
            "in": "query",
            "description": "创建时间大于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "createdAt_lt",
            "required": false,
            "in": "query",
            "description": "创建时间小于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "sentAt_gt",
            "required": false,
            "in": "query",
            "description": "发送时间大于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "sentAt_lt",
            "required": false,
            "in": "query",
            "description": "发送时间小于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "phone",
            "required": false,
            "in": "query",
            "description": "手机号",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sign",
            "required": false,
            "in": "query",
            "description": "签名",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A paged of sms record list.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SmsRecord"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "List sms records",
        "tags": [
          "smsRecord"
        ]
      }
    },
    "/sms/records/@count": {
      "post": {
        "operationId": "countSmsRecords",
        "parameters": [
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "发送状态",
            "schema": {
              "$ref": "#/components/schemas/SmsStatus"
            }
          },
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt",
                "sentAt",
                "-sentAt"
              ]
            }
          },
          {
            "name": "createdAt_gt",
            "required": false,
            "in": "query",
            "description": "创建时间大于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "createdAt_lt",
            "required": false,
            "in": "query",
            "description": "创建时间小于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "sentAt_gt",
            "required": false,
            "in": "query",
            "description": "发送时间大于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "sentAt_lt",
            "required": false,
            "in": "query",
            "description": "发送时间小于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "phone",
            "required": false,
            "in": "query",
            "description": "手机号",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sign",
            "required": false,
            "in": "query",
            "description": "签名",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The count of sms records.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Count sms records",
        "tags": [
          "smsRecord"
        ]
      }
    },
    "/sms/records/{smsRecordId}": {
      "get": {
        "operationId": "getSmsRecord",
        "parameters": [
          {
            "name": "smsRecordId",
            "required": true,
            "in": "path",
            "description": "Sms record id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The sms record with expected id.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SmsRecord"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Find sms record by id",
        "tags": [
          "smsRecord"
        ]
      },
      "patch": {
        "operationId": "updateSmsRecord",
        "parameters": [
          {
            "name": "smsRecordId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSmsRecordDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The sms record updated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SmsRecord"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Update sms record",
        "tags": [
          "smsRecord"
        ]
      },
      "delete": {
        "operationId": "deleteSmsRecord",
        "parameters": [
          {
            "name": "smsRecordId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No content."
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Delete sms record",
        "tags": [
          "smsRecord"
        ]
      }
    },
    "/third-parties": {
      "post": {
        "operationId": "createThirdParty",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/createThirdPartyDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The third party has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThirdParty"
                }
              }
            }
          }
        },
        "summary": "create third party",
        "tags": [
          "thirdParty"
        ]
      },
      "get": {
        "operationId": "listThirdParty",
        "parameters": [
          {
            "name": "source",
            "required": false,
            "in": "query",
            "description": "第三方登录来源",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "tid",
            "required": false,
            "in": "query",
            "description": "第三方登录的用户唯一标识",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "accessToken",
            "required": false,
            "in": "query",
            "description": "第三方登录 accessToken",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expireAt",
            "required": false,
            "in": "query",
            "description": "第三方登录过期时间",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "tokenType",
            "required": false,
            "in": "query",
            "description": "第三方登录 token 类型",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "refreshToken",
            "required": false,
            "in": "query",
            "description": "第三方登录 refreshToken",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "refreshTokenExpireAt",
            "required": false,
            "in": "query",
            "description": "第三方登录 refreshToken 过期时间",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "uid",
            "required": false,
            "in": "query",
            "description": "关联uid",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "data",
            "required": false,
            "in": "query",
            "description": "用于存储第三方的额外数据",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object"
                  }
                }
              }
            }
          },
          "201": {
            "description": "The third party record list.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ThirdParty"
                  }
                }
              }
            }
          }
        },
        "summary": "list third party",
        "tags": [
          "thirdParty"
        ]
      }
    },
    "/third-parties/@count": {
      "post": {
        "operationId": "countThirdParty",
        "parameters": [
          {
            "name": "source",
            "required": false,
            "in": "query",
            "description": "第三方登录来源",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "tid",
            "required": false,
            "in": "query",
            "description": "第三方登录的用户唯一标识",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "accessToken",
            "required": false,
            "in": "query",
            "description": "第三方登录 accessToken",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expireAt",
            "required": false,
            "in": "query",
            "description": "第三方登录过期时间",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "tokenType",
            "required": false,
            "in": "query",
            "description": "第三方登录 token 类型",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "refreshToken",
            "required": false,
            "in": "query",
            "description": "第三方登录 refreshToken",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "refreshTokenExpireAt",
            "required": false,
            "in": "query",
            "description": "第三方登录 refreshToken 过期时间",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "uid",
            "required": false,
            "in": "query",
            "description": "关联uid",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "data",
            "required": false,
            "in": "query",
            "description": "用于存储第三方的额外数据",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "The third party record count.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          }
        },
        "summary": "Count third party",
        "tags": [
          "thirdParty"
        ]
      }
    },
    "/third-parties/{id}": {
      "get": {
        "operationId": "getThirdParty",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "201": {
            "description": "The third party.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThirdParty"
                }
              }
            }
          }
        },
        "summary": "get third party",
        "tags": [
          "thirdParty"
        ]
      },
      "patch": {
        "operationId": "updateThirdParty",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateThirdPartyDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "201": {
            "description": "The third party has been successfully updated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThirdParty"
                }
              }
            }
          }
        },
        "summary": "update third party",
        "tags": [
          "thirdParty"
        ]
      }
    },
    "/third-parties/source/{source}/uid/{uid}": {
      "get": {
        "operationId": "getThirdPartyByUid",
        "parameters": [
          {
            "name": "source",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "uid",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "201": {
            "description": "The third party.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThirdParty"
                }
              }
            }
          }
        },
        "summary": "get third party by uid",
        "tags": [
          "thirdParty"
        ]
      }
    },
    "/third-parties/source/{source}/tid/{tid}": {
      "get": {
        "operationId": "getThirdPartyByTid",
        "parameters": [
          {
            "name": "source",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "tid",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "201": {
            "description": "The third party.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThirdParty"
                }
              }
            }
          }
        },
        "summary": "get third party by tid",
        "tags": [
          "thirdParty"
        ]
      }
    },
    "/third-parties/@bind": {
      "post": {
        "operationId": "bindThirdParty",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/bindThirdPartyDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The third party has been successfully binded.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThirdParty"
                }
              }
            }
          }
        },
        "summary": "bind third party",
        "tags": [
          "thirdParty"
        ]
      }
    },
    "/users": {
      "post": {
        "operationId": "createUser",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The user has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        },
        "summary": "Create user",
        "tags": [
          "user"
        ]
      },
      "get": {
        "operationId": "listUsers",
        "parameters": [
          {
            "name": "id",
            "required": false,
            "in": "query",
            "description": "按 id 筛选",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "ns",
            "required": false,
            "in": "query",
            "description": "所属命名空间",
            "schema": {
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "type": "string"
            }
          },
          {
            "name": "ns_start",
            "required": false,
            "in": "query",
            "description": "所属命名空间 start 查询",
            "schema": {
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "type": "string"
            }
          },
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt",
                "lastLoginAt",
                "-lastLoginAt",
                "expireAt",
                "-expireAt"
              ]
            }
          },
          {
            "name": "name_like",
            "required": false,
            "in": "query",
            "description": "名称 模糊查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "username_like",
            "required": false,
            "in": "query",
            "description": "用户名 模糊查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "nickname_like",
            "required": false,
            "in": "query",
            "description": "昵称 模糊查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "ns_tree",
            "required": false,
            "in": "query",
            "description": "所属命名空间的 tree 查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expireAt_gte",
            "required": false,
            "in": "query",
            "description": "过期时间大于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "expireAt_lte",
            "required": false,
            "in": "query",
            "description": "过期时间小于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "active",
            "required": false,
            "in": "query",
            "description": "是否启用",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "email",
            "required": false,
            "in": "query",
            "description": "邮箱",
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "name": "groups",
            "required": false,
            "in": "query",
            "description": "团队",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "inviter",
            "required": false,
            "in": "query",
            "description": "邀请人",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "labels",
            "required": false,
            "in": "query",
            "description": "标签",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "name",
            "required": false,
            "in": "query",
            "description": "姓名",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "phone",
            "required": false,
            "in": "query",
            "description": "手机号",
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "name": "registerRegion",
            "required": false,
            "in": "query",
            "description": "注册地区，存地区编号",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "roles",
            "required": false,
            "in": "query",
            "description": "角色",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "状态",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "description": "类型, 登录端",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "username",
            "required": false,
            "in": "query",
            "description": "用户名",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A paged array of users.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/User"
                  }
                }
              }
            }
          }
        },
        "summary": "List users",
        "tags": [
          "user"
        ]
      }
    },
    "/users/@count": {
      "post": {
        "operationId": "countUsers",
        "parameters": [
          {
            "name": "id",
            "required": false,
            "in": "query",
            "description": "按 id 筛选",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "ns",
            "required": false,
            "in": "query",
            "description": "所属命名空间",
            "schema": {
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "type": "string"
            }
          },
          {
            "name": "ns_start",
            "required": false,
            "in": "query",
            "description": "所属命名空间 start 查询",
            "schema": {
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "type": "string"
            }
          },
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt",
                "lastLoginAt",
                "-lastLoginAt",
                "expireAt",
                "-expireAt"
              ]
            }
          },
          {
            "name": "name_like",
            "required": false,
            "in": "query",
            "description": "名称 模糊查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "username_like",
            "required": false,
            "in": "query",
            "description": "用户名 模糊查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "nickname_like",
            "required": false,
            "in": "query",
            "description": "昵称 模糊查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "ns_tree",
            "required": false,
            "in": "query",
            "description": "所属命名空间的 tree 查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expireAt_gte",
            "required": false,
            "in": "query",
            "description": "过期时间大于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "expireAt_lte",
            "required": false,
            "in": "query",
            "description": "过期时间小于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "active",
            "required": false,
            "in": "query",
            "description": "是否启用",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "email",
            "required": false,
            "in": "query",
            "description": "邮箱",
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "name": "groups",
            "required": false,
            "in": "query",
            "description": "团队",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "inviter",
            "required": false,
            "in": "query",
            "description": "邀请人",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "labels",
            "required": false,
            "in": "query",
            "description": "标签",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "name",
            "required": false,
            "in": "query",
            "description": "姓名",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "phone",
            "required": false,
            "in": "query",
            "description": "手机号",
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "name": "registerRegion",
            "required": false,
            "in": "query",
            "description": "注册地区，存地区编号",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "roles",
            "required": false,
            "in": "query",
            "description": "角色",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "状态",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "description": "类型, 登录端",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "username",
            "required": false,
            "in": "query",
            "description": "用户名",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The result of count users.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          }
        },
        "summary": "Count users",
        "tags": [
          "user"
        ]
      }
    },
    "/users/{userId}": {
      "get": {
        "operationId": "getUser",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "description": "User id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The user with expected id.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        },
        "summary": "Find user",
        "tags": [
          "user"
        ]
      },
      "patch": {
        "operationId": "updateUser",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The user updated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        },
        "summary": "Update user",
        "tags": [
          "user"
        ]
      },
      "delete": {
        "operationId": "deleteUser",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No content."
          }
        },
        "summary": "Delete user",
        "tags": [
          "user"
        ]
      }
    },
    "/users/{employeeId}/@upsertUserByEmployeeId": {
      "post": {
        "operationId": "upsertUserByEmployeeId",
        "parameters": [
          {
            "name": "employeeId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The user upserted.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "Upsert user by employeeId",
        "tags": [
          "user"
        ]
      }
    },
    "/users/{username}/@upsertUserByUsername": {
      "post": {
        "operationId": "upsertUserByUsername",
        "parameters": [
          {
            "name": "username",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The user upserted.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "Upsert user by username",
        "tags": [
          "user"
        ]
      }
    },
    "/users/{email}/@upsertUserByEmail": {
      "post": {
        "operationId": "upsertUserByEmail",
        "parameters": [
          {
            "name": "email",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The user upserted.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "Upsert user by email",
        "tags": [
          "user"
        ]
      }
    },
    "/users/{phone}/@upsertUserByPhone": {
      "post": {
        "operationId": "upsertUserByPhone",
        "parameters": [
          {
            "name": "phone",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The user upserted.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "Upsert user by phone",
        "tags": [
          "user"
        ]
      }
    },
    "/users/{userId}/@verifyIdentity": {
      "post": {
        "operationId": "verifyIdentity",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The user has been verified.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        },
        "summary": "Verify identity",
        "tags": [
          "user"
        ]
      }
    },
    "/users/{userId}/@updatePassword": {
      "post": {
        "operationId": "updatePassword",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePasswordDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Update password",
        "tags": [
          "user"
        ]
      }
    },
    "/users/@aggregate": {
      "post": {
        "operationId": "aggregateUsers",
        "parameters": [
          {
            "name": "id",
            "required": false,
            "in": "query",
            "description": "按 id 筛选",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "ns",
            "required": false,
            "in": "query",
            "description": "所属命名空间",
            "schema": {
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "type": "string"
            }
          },
          {
            "name": "ns_start",
            "required": false,
            "in": "query",
            "description": "所属命名空间 start 查询",
            "schema": {
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "type": "string"
            }
          },
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt",
                "lastLoginAt",
                "-lastLoginAt",
                "expireAt",
                "-expireAt"
              ]
            }
          },
          {
            "name": "name_like",
            "required": false,
            "in": "query",
            "description": "名称 模糊查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "username_like",
            "required": false,
            "in": "query",
            "description": "用户名 模糊查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "nickname_like",
            "required": false,
            "in": "query",
            "description": "昵称 模糊查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "ns_tree",
            "required": false,
            "in": "query",
            "description": "所属命名空间的 tree 查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expireAt_gte",
            "required": false,
            "in": "query",
            "description": "过期时间大于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "expireAt_lte",
            "required": false,
            "in": "query",
            "description": "过期时间小于该时间",
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "name": "active",
            "required": false,
            "in": "query",
            "description": "是否启用",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "email",
            "required": false,
            "in": "query",
            "description": "邮箱",
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "name": "groups",
            "required": false,
            "in": "query",
            "description": "团队",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "inviter",
            "required": false,
            "in": "query",
            "description": "邀请人",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "labels",
            "required": false,
            "in": "query",
            "description": "标签",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "name",
            "required": false,
            "in": "query",
            "description": "姓名",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "phone",
            "required": false,
            "in": "query",
            "description": "手机号",
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "name": "registerRegion",
            "required": false,
            "in": "query",
            "description": "注册地区，存地区编号",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "roles",
            "required": false,
            "in": "query",
            "description": "角色",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "状态",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "description": "类型, 登录端",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "username",
            "required": false,
            "in": "query",
            "description": "用户名",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AggregateUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "A paged array of user aggregate results.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserAggregateResult"
                  }
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserAggregateResult"
                  }
                }
              }
            }
          }
        },
        "summary": "Aggregate user",
        "tags": [
          "user"
        ]
      }
    },
    "/industries": {
      "get": {
        "operationId": "listIndustries",
        "parameters": [
          {
            "name": "depth",
            "required": false,
            "in": "query",
            "description": "返回的层数\n默认返回所有层级",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A paged array of region.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Industry"
                  }
                }
              }
            }
          }
        },
        "summary": "List Industries",
        "tags": [
          "industry"
        ]
      }
    },
    "/regions": {
      "get": {
        "operationId": "listRegions",
        "parameters": [],
        "responses": {
          "200": {
            "description": "A paged array of region.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Region"
                  }
                }
              }
            }
          }
        },
        "summary": "List Regions",
        "tags": [
          "region"
        ]
      }
    },
    "/roles": {
      "post": {
        "operationId": "createRole",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRoleDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The role has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Role"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Create role",
        "tags": [
          "role"
        ]
      },
      "get": {
        "operationId": "listRoles",
        "parameters": [
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt"
              ]
            }
          },
          {
            "name": "name_like",
            "required": false,
            "in": "query",
            "description": "名称 模糊查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "required": false,
            "in": "query",
            "description": "名称",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "key",
            "required": false,
            "in": "query",
            "description": "role key",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A paged array of roles.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Role"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "List roles",
        "tags": [
          "role"
        ]
      }
    },
    "/roles/@count": {
      "post": {
        "operationId": "countRoles",
        "parameters": [
          {
            "name": "_sort",
            "required": false,
            "in": "query",
            "description": "排序参数",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "-createdAt",
                "updatedAt",
                "-updatedAt"
              ]
            }
          },
          {
            "name": "name_like",
            "required": false,
            "in": "query",
            "description": "名称 模糊查询",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "required": false,
            "in": "query",
            "description": "名称",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "key",
            "required": false,
            "in": "query",
            "description": "role key",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "_limit",
            "required": false,
            "in": "query",
            "description": "分页大小",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "_offset",
            "required": false,
            "in": "query",
            "description": "分页偏移",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The result of count roles.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResult"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Count roles",
        "tags": [
          "role"
        ]
      }
    },
    "/roles/{roleIdOrKey}": {
      "get": {
        "operationId": "getRole",
        "parameters": [
          {
            "name": "roleIdOrKey",
            "required": true,
            "in": "path",
            "description": "Role id or key",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The role with expected id or key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Role"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Find role by id or key",
        "tags": [
          "role"
        ]
      }
    },
    "/roles/{roleId}": {
      "patch": {
        "operationId": "updateRole",
        "parameters": [
          {
            "name": "roleId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRoleDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The role updated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Role"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Update role",
        "tags": [
          "role"
        ]
      },
      "delete": {
        "operationId": "deleteRole",
        "parameters": [
          {
            "name": "roleId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No content."
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ],
        "summary": "Delete role",
        "tags": [
          "role"
        ]
      }
    }
  },
  "info": {
    "title": "Auth API Server",
    "description": "Auth API for auth service",
    "version": "2.0",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "securitySchemes": {
      "ApiKey": {
        "type": "apiKey",
        "in": "header",
        "name": "x-api-key"
      }
    },
    "schemas": {
      "HealthCheckResult": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          }
        },
        "required": [
          "message"
        ]
      },
      "AppResult": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          }
        },
        "required": [
          "message"
        ]
      },
      "LoginDto": {
        "type": "object",
        "properties": {
          "login": {
            "type": "string",
            "description": "可以是 username/phone/Email"
          },
          "password": {
            "type": "string",
            "description": "密码"
          }
        },
        "required": [
          "login",
          "password"
        ]
      },
      "SessionWithToken": {
        "type": "object",
        "properties": {
          "expireAt": {
            "format": "date-time",
            "type": "string",
            "description": "会话过期时间"
          },
          "key": {
            "type": "string",
            "description": "session key\n可以作为 refresh token"
          },
          "subject": {
            "type": "string",
            "description": "用户或第三方用户 id"
          },
          "source": {
            "type": "string",
            "description": "如果来自第三方，则会加上 source"
          },
          "permissions": {
            "description": "角色之外的权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "roles": {
            "description": "角色",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "groups": {
            "description": "用户所属的组",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "ns": {
            "type": "string",
            "description": "user ns"
          },
          "type": {
            "type": "string",
            "description": "用户类型"
          },
          "oneTimeUse": {
            "type": "boolean",
            "description": "一次性的，禁止轮换"
          },
          "remark": {
            "type": "string",
            "description": "备注"
          },
          "id": {
            "type": "string",
            "description": "Entity id"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity created at when"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity updated at when"
          },
          "createdBy": {
            "type": "string",
            "description": "Entity created by who"
          },
          "updatedBy": {
            "type": "string",
            "description": "Entity updated by who"
          },
          "token": {
            "type": "string",
            "description": "token"
          },
          "tokenExpireAt": {
            "format": "date-time",
            "type": "string",
            "description": "token 过期时间"
          }
        },
        "required": [
          "expireAt",
          "key",
          "subject",
          "id",
          "token",
          "tokenExpireAt"
        ]
      },
      "Authorizer": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "url"
          }
        },
        "required": [
          "url"
        ]
      },
      "GithubDto": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string"
          },
          "redirectUri": {
            "type": "string"
          },
          "repositoryId": {
            "type": "string"
          }
        },
        "required": [
          "code"
        ]
      },
      "OAuthDto": {
        "type": "object",
        "properties": {
          "provider": {
            "type": "string"
          },
          "code": {
            "type": "string"
          },
          "grantType": {
            "type": "string"
          },
          "redirectUri": {
            "type": "string"
          }
        },
        "required": [
          "provider",
          "code"
        ]
      },
      "LoginByEmailDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "邮箱"
          },
          "key": {
            "type": "string",
            "description": "验证码 key"
          },
          "code": {
            "type": "string",
            "description": "验证码 code"
          }
        },
        "required": [
          "email",
          "key",
          "code"
        ]
      },
      "LoginByPhoneDto": {
        "type": "object",
        "properties": {
          "phone": {
            "type": "string",
            "description": "手机号"
          },
          "key": {
            "type": "string",
            "description": "验证码 key"
          },
          "code": {
            "type": "string",
            "description": "验证码 code"
          }
        },
        "required": [
          "phone",
          "key",
          "code"
        ]
      },
      "LogoutDto": {
        "type": "object",
        "properties": {
          "sid": {
            "type": "string",
            "description": "session id"
          }
        },
        "required": [
          "sid"
        ]
      },
      "RegisterDto": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "description": "用户名"
          },
          "password": {
            "type": "string",
            "description": "密码"
          },
          "ns": {
            "type": "string",
            "description": "命名空间"
          },
          "inviter": {
            "type": "string",
            "description": "邀请人"
          },
          "labels": {
            "description": "标签",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "registerIp": {
            "type": "string",
            "description": "注册 IP"
          },
          "registerRegion": {
            "type": "string",
            "description": "注册地区，存地区编号"
          },
          "type": {
            "type": "string",
            "description": "类型, 登录端"
          }
        },
        "required": [
          "username",
          "password"
        ]
      },
      "User": {
        "type": "object",
        "properties": {
          "password": {
            "type": "string",
            "description": "密码",
            "writeOnly": true
          },
          "hasPassword": {
            "type": "boolean",
            "description": "是否有密码",
            "readOnly": true
          },
          "avatar": {
            "type": "string",
            "description": "头像"
          },
          "birthday": {
            "format": "date-time",
            "type": "string",
            "description": "生日"
          },
          "data": {
            "type": "string",
            "description": "额外数据"
          },
          "email": {
            "type": "string",
            "nullable": true,
            "description": "邮箱"
          },
          "name": {
            "type": "string",
            "description": "姓名"
          },
          "identity": {
            "type": "string"
          },
          "identityVerifiedAt": {
            "format": "date-time",
            "type": "string",
            "description": "实名认证时间"
          },
          "identityVerified": {
            "type": "boolean",
            "description": "实名认证是否通过"
          },
          "intro": {
            "type": "string",
            "description": "简介"
          },
          "inviter": {
            "type": "string",
            "description": "邀请人"
          },
          "labels": {
            "description": "标签",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "language": {
            "type": "string",
            "description": "使用语言"
          },
          "lastLoginIp": {
            "type": "string",
            "description": "最后登录 IP"
          },
          "lastSeenAt": {
            "format": "date-time",
            "type": "string",
            "description": "最后活跃时间"
          },
          "level": {
            "type": "number",
            "description": "等级"
          },
          "nickname": {
            "type": "string",
            "description": "昵称"
          },
          "ns": {
            "type": "string",
            "description": "所属命名空间"
          },
          "phone": {
            "type": "string",
            "nullable": true,
            "description": "手机号"
          },
          "registerIp": {
            "type": "string",
            "description": "注册 IP"
          },
          "registerRegion": {
            "type": "string",
            "description": "注册地区，存地区编号"
          },
          "roles": {
            "description": "角色",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "username": {
            "type": "string",
            "description": "用户名"
          },
          "employeeId": {
            "type": "string",
            "nullable": true,
            "description": "员工编号"
          },
          "permissions": {
            "description": "权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "groups": {
            "description": "团队",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "lastLoginAt": {
            "format": "date-time",
            "type": "string",
            "description": "最后登录时间"
          },
          "active": {
            "type": "boolean",
            "description": "是否启用"
          },
          "status": {
            "type": "string",
            "description": "状态"
          },
          "expireAt": {
            "format": "date-time",
            "type": "string",
            "description": "过期时间"
          },
          "type": {
            "type": "string",
            "description": "类型, 登录端"
          },
          "id": {
            "type": "string",
            "description": "Entity id"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity created at when"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity updated at when"
          },
          "createdBy": {
            "type": "string",
            "description": "Entity created by who"
          },
          "updatedBy": {
            "type": "string",
            "description": "Entity updated by who"
          }
        },
        "required": [
          "labels",
          "roles",
          "permissions",
          "groups",
          "id"
        ]
      },
      "RegisterbyPhoneDto": {
        "type": "object",
        "properties": {
          "phone": {
            "type": "string",
            "description": "手机号"
          },
          "key": {
            "type": "string",
            "description": "验证码 key"
          },
          "code": {
            "type": "string",
            "description": "验证码 code"
          },
          "ns": {
            "type": "string",
            "description": "命名空间"
          },
          "inviter": {
            "type": "string",
            "description": "邀请人"
          },
          "labels": {
            "description": "标签",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "registerIp": {
            "type": "string",
            "description": "注册 IP"
          },
          "registerRegion": {
            "type": "string",
            "description": "注册地区，存地区编号"
          },
          "type": {
            "type": "string",
            "description": "类型, 登录端"
          }
        },
        "required": [
          "phone",
          "key",
          "code"
        ]
      },
      "RegisterByEmailDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "邮箱"
          },
          "key": {
            "type": "string",
            "description": "验证码 key"
          },
          "code": {
            "type": "string",
            "description": "验证码 code"
          },
          "ns": {
            "type": "string",
            "description": "命名空间"
          },
          "inviter": {
            "type": "string",
            "description": "邀请人"
          },
          "labels": {
            "description": "标签",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "registerIp": {
            "type": "string",
            "description": "注册 IP"
          },
          "registerRegion": {
            "type": "string",
            "description": "注册地区，存地区编号"
          },
          "type": {
            "type": "string",
            "description": "类型, 登录端"
          }
        },
        "required": [
          "email",
          "key",
          "code"
        ]
      },
      "SignTokenDto": {
        "type": "object",
        "properties": {
          "expiresIn": {
            "type": "string",
            "description": "short time span string\n\nrefs: https://github.com/vercel/ms\n\neg: \"2 days\", \"10h\", \"7d\", \"120s\", \"2.5 hrs\", \"2h\", \"1m\", \"5s\", \"1y\", \"100\", \"1y1m1d\"\n\nm => minute\nh => hour\nd => day\nw => week\nM => month\ny => year\ns => second\nms => millisecond\n无单位 => millisecond"
          },
          "uid": {
            "type": "string",
            "description": "用户 id"
          },
          "permissions": {
            "description": "受限权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "expiresIn",
          "uid"
        ]
      },
      "Token": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "description": "token"
          },
          "tokenExpireAt": {
            "format": "date-time",
            "type": "string",
            "description": "token 过期时间"
          }
        },
        "required": [
          "token",
          "tokenExpireAt"
        ]
      },
      "RefreshTokenDto": {
        "type": "object",
        "properties": {
          "refreshToken": {
            "type": "string",
            "description": "refresh token 也就是 session key"
          }
        },
        "required": [
          "refreshToken"
        ]
      },
      "ResetPasswordByPhoneDto": {
        "type": "object",
        "properties": {
          "phone": {
            "type": "string",
            "description": "手机号"
          },
          "key": {
            "type": "string",
            "description": "验证码 key"
          },
          "code": {
            "type": "string",
            "description": "验证码 code"
          },
          "password": {
            "type": "string",
            "description": "密码"
          }
        },
        "required": [
          "phone",
          "key",
          "code",
          "password"
        ]
      },
      "ResetPasswordByEmailDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "手机号"
          },
          "key": {
            "type": "string",
            "description": "验证码 key"
          },
          "code": {
            "type": "string",
            "description": "验证码 code"
          },
          "password": {
            "type": "string",
            "description": "密码"
          }
        },
        "required": [
          "email",
          "key",
          "code",
          "password"
        ]
      },
      "CreateCaptchaDto": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "验证码"
          },
          "expireAt": {
            "format": "date-time",
            "type": "string",
            "description": "过期时间"
          },
          "key": {
            "type": "string",
            "description": "key"
          }
        },
        "required": [
          "key"
        ]
      },
      "Captcha": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "验证码"
          },
          "expireAt": {
            "format": "date-time",
            "type": "string",
            "description": "过期时间"
          },
          "key": {
            "type": "string",
            "description": "key"
          },
          "id": {
            "type": "string",
            "description": "Entity id"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity created at when"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity updated at when"
          },
          "createdBy": {
            "type": "string",
            "description": "Entity created by who"
          },
          "updatedBy": {
            "type": "string",
            "description": "Entity updated by who"
          }
        },
        "required": [
          "code",
          "expireAt",
          "key",
          "id"
        ]
      },
      "CountResult": {
        "type": "object",
        "properties": {
          "count": {
            "type": "number"
          }
        },
        "required": [
          "count"
        ]
      },
      "UpdateCaptchaDto": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "验证码"
          },
          "expireAt": {
            "format": "date-time",
            "type": "string",
            "description": "过期时间"
          },
          "key": {
            "type": "string",
            "description": "key"
          }
        }
      },
      "VerifyCaptchaDto": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "验证码"
          },
          "key": {
            "type": "string",
            "description": "验证码 key"
          }
        },
        "required": [
          "code",
          "key"
        ]
      },
      "VerifyCaptchaResultDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "是否验证成功"
          }
        },
        "required": [
          "success"
        ]
      },
      "SendEmailDto": {
        "type": "object",
        "properties": {
          "from": {
            "type": "string"
          },
          "to": {
            "type": "string"
          },
          "subject": {
            "type": "string"
          },
          "content": {
            "type": "string"
          }
        },
        "required": [
          "from",
          "to",
          "subject",
          "content"
        ]
      },
      "EmailStatus": {
        "type": "string",
        "enum": [
          "pending",
          "sent"
        ],
        "description": "发送状态"
      },
      "CreateEmailRecordDto": {
        "type": "object",
        "properties": {
          "status": {
            "description": "发送状态",
            "allOf": [
              {
                "$ref": "#/components/schemas/EmailStatus"
              }
            ]
          },
          "from": {
            "type": "string",
            "description": "发件者"
          },
          "to": {
            "type": "string",
            "description": "收件者"
          },
          "subject": {
            "type": "string",
            "description": "主题"
          },
          "content": {
            "type": "string",
            "description": "内容"
          },
          "sentAt": {
            "format": "date-time",
            "type": "string",
            "description": "发送时间"
          }
        },
        "required": [
          "status",
          "from",
          "to",
          "subject",
          "content"
        ]
      },
      "EmailRecord": {
        "type": "object",
        "properties": {
          "status": {
            "description": "发送状态",
            "allOf": [
              {
                "$ref": "#/components/schemas/EmailStatus"
              }
            ]
          },
          "from": {
            "type": "string",
            "description": "发件者"
          },
          "to": {
            "type": "string",
            "description": "收件者"
          },
          "subject": {
            "type": "string",
            "description": "主题"
          },
          "content": {
            "type": "string",
            "description": "内容"
          },
          "sentAt": {
            "format": "date-time",
            "type": "string",
            "description": "发送时间"
          },
          "id": {
            "type": "string",
            "description": "Entity id"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity created at when"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity updated at when"
          },
          "createdBy": {
            "type": "string",
            "description": "Entity created by who"
          },
          "updatedBy": {
            "type": "string",
            "description": "Entity updated by who"
          }
        },
        "required": [
          "status",
          "from",
          "to",
          "subject",
          "content",
          "id"
        ]
      },
      "UpdateEmailRecordDto": {
        "type": "object",
        "properties": {
          "status": {
            "description": "发送状态",
            "allOf": [
              {
                "$ref": "#/components/schemas/EmailStatus"
              }
            ]
          },
          "from": {
            "type": "string",
            "description": "发件者"
          },
          "to": {
            "type": "string",
            "description": "收件者"
          },
          "subject": {
            "type": "string",
            "description": "主题"
          },
          "content": {
            "type": "string",
            "description": "内容"
          },
          "sentAt": {
            "format": "date-time",
            "type": "string",
            "description": "发送时间"
          }
        }
      },
      "CreateGroupDto": {
        "type": "object",
        "properties": {
          "data": {
            "type": "string",
            "description": "额外数据"
          },
          "name": {
            "type": "string",
            "description": "名称"
          },
          "permissions": {
            "description": "权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "active": {
            "type": "boolean",
            "description": "是否启用"
          }
        },
        "required": [
          "name"
        ]
      },
      "Group": {
        "type": "object",
        "properties": {
          "data": {
            "type": "string",
            "description": "额外数据"
          },
          "name": {
            "type": "string",
            "description": "名称"
          },
          "permissions": {
            "description": "权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "active": {
            "type": "boolean",
            "description": "是否启用"
          },
          "id": {
            "type": "string",
            "description": "Entity id"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity created at when"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity updated at when"
          },
          "createdBy": {
            "type": "string",
            "description": "Entity created by who"
          },
          "updatedBy": {
            "type": "string",
            "description": "Entity updated by who"
          }
        },
        "required": [
          "name",
          "id"
        ]
      },
      "UpdateGroupDto": {
        "type": "object",
        "properties": {
          "data": {
            "type": "string",
            "description": "额外数据"
          },
          "name": {
            "type": "string",
            "description": "名称"
          },
          "permissions": {
            "description": "权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "active": {
            "type": "boolean",
            "description": "是否启用"
          }
        }
      },
      "CreateNamespaceDto": {
        "type": "object",
        "properties": {
          "data": {
            "type": "string",
            "description": "额外数据"
          },
          "desc": {
            "type": "string",
            "description": "描述"
          },
          "labels": {
            "description": "标签",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "name": {
            "type": "string",
            "description": "名称"
          },
          "key": {
            "type": "string",
            "description": "命名空间的 key\n\n允许的字符 ^[a-zA-Z][a-zA-Z0-9._/-]{0,200}$"
          },
          "ns": {
            "type": "string",
            "description": "所属的 namespace key"
          },
          "permissions": {
            "description": "权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "active": {
            "type": "boolean",
            "description": "是否启用"
          },
          "defaultPassword": {
            "type": "string",
            "description": "默认密码"
          },
          "exportable": {
            "type": "boolean",
            "description": "是否可导出"
          }
        },
        "required": [
          "name",
          "key"
        ]
      },
      "Namespace": {
        "type": "object",
        "properties": {
          "data": {
            "type": "string",
            "description": "额外数据"
          },
          "desc": {
            "type": "string",
            "description": "描述"
          },
          "labels": {
            "description": "标签",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "name": {
            "type": "string",
            "description": "名称"
          },
          "key": {
            "type": "string",
            "description": "命名空间的 key\n\n允许的字符 ^[a-zA-Z][a-zA-Z0-9._/-]{0,200}$"
          },
          "ns": {
            "type": "string",
            "description": "所属的 namespace key"
          },
          "permissions": {
            "description": "权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "active": {
            "type": "boolean",
            "description": "是否启用"
          },
          "defaultPassword": {
            "type": "string",
            "description": "默认密码"
          },
          "exportable": {
            "type": "boolean",
            "description": "是否可导出"
          },
          "id": {
            "type": "string",
            "description": "Entity id"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity created at when"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity updated at when"
          },
          "createdBy": {
            "type": "string",
            "description": "Entity created by who"
          },
          "updatedBy": {
            "type": "string",
            "description": "Entity updated by who"
          }
        },
        "required": [
          "name",
          "key",
          "id"
        ]
      },
      "UpdateNamespaceDto": {
        "type": "object",
        "properties": {
          "data": {
            "type": "string",
            "description": "额外数据"
          },
          "desc": {
            "type": "string",
            "description": "描述"
          },
          "labels": {
            "description": "标签",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "name": {
            "type": "string",
            "description": "名称"
          },
          "permissions": {
            "description": "权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "active": {
            "type": "boolean",
            "description": "是否启用"
          },
          "defaultPassword": {
            "type": "string",
            "description": "默认密码"
          },
          "exportable": {
            "type": "boolean",
            "description": "是否可导出"
          }
        }
      },
      "CreateSessionDto": {
        "type": "object",
        "properties": {
          "expireAt": {
            "format": "date-time",
            "type": "string",
            "description": "会话过期时间"
          },
          "subject": {
            "type": "string",
            "description": "用户或第三方用户 id"
          },
          "source": {
            "type": "string",
            "description": "如果来自第三方，则会加上 source"
          },
          "permissions": {
            "description": "角色之外的权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "roles": {
            "description": "角色",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "groups": {
            "description": "用户所属的组",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "ns": {
            "type": "string",
            "description": "user ns"
          },
          "type": {
            "type": "string",
            "description": "用户类型"
          },
          "oneTimeUse": {
            "type": "boolean",
            "description": "一次性的，禁止轮换"
          },
          "remark": {
            "type": "string",
            "description": "备注"
          }
        },
        "required": [
          "expireAt",
          "subject"
        ]
      },
      "Session": {
        "type": "object",
        "properties": {
          "expireAt": {
            "format": "date-time",
            "type": "string",
            "description": "会话过期时间"
          },
          "key": {
            "type": "string",
            "description": "session key\n可以作为 refresh token"
          },
          "subject": {
            "type": "string",
            "description": "用户或第三方用户 id"
          },
          "source": {
            "type": "string",
            "description": "如果来自第三方，则会加上 source"
          },
          "permissions": {
            "description": "角色之外的权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "roles": {
            "description": "角色",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "groups": {
            "description": "用户所属的组",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "ns": {
            "type": "string",
            "description": "user ns"
          },
          "type": {
            "type": "string",
            "description": "用户类型"
          },
          "oneTimeUse": {
            "type": "boolean",
            "description": "一次性的，禁止轮换"
          },
          "remark": {
            "type": "string",
            "description": "备注"
          },
          "id": {
            "type": "string",
            "description": "Entity id"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity created at when"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity updated at when"
          },
          "createdBy": {
            "type": "string",
            "description": "Entity created by who"
          },
          "updatedBy": {
            "type": "string",
            "description": "Entity updated by who"
          }
        },
        "required": [
          "expireAt",
          "key",
          "subject",
          "id"
        ]
      },
      "UpdateSessionDto": {
        "type": "object",
        "properties": {
          "expireAt": {
            "format": "date-time",
            "type": "string",
            "description": "会话过期时间"
          },
          "subject": {
            "type": "string",
            "description": "用户或第三方用户 id"
          },
          "source": {
            "type": "string",
            "description": "如果来自第三方，则会加上 source"
          },
          "permissions": {
            "description": "角色之外的权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "roles": {
            "description": "角色",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "groups": {
            "description": "用户所属的组",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "ns": {
            "type": "string",
            "description": "user ns"
          },
          "type": {
            "type": "string",
            "description": "用户类型"
          },
          "oneTimeUse": {
            "type": "boolean",
            "description": "一次性的，禁止轮换"
          },
          "remark": {
            "type": "string",
            "description": "备注"
          }
        }
      },
      "SendSmsDto": {
        "type": "object",
        "properties": {
          "phone": {
            "type": "string"
          },
          "sign": {
            "type": "string"
          },
          "template": {
            "type": "string"
          },
          "params": {
            "type": "object"
          }
        },
        "required": [
          "phone",
          "sign",
          "template"
        ]
      },
      "SmsStatus": {
        "type": "string",
        "enum": [
          "pending",
          "sent"
        ],
        "description": "发送状态"
      },
      "CreateSmsRecordDto": {
        "type": "object",
        "properties": {
          "status": {
            "description": "发送状态",
            "allOf": [
              {
                "$ref": "#/components/schemas/SmsStatus"
              }
            ]
          },
          "phone": {
            "type": "string",
            "description": "手机号"
          },
          "sign": {
            "type": "string",
            "description": "签名"
          },
          "template": {
            "type": "string",
            "description": "模板"
          },
          "params": {
            "type": "string",
            "description": "参数"
          },
          "sentAt": {
            "format": "date-time",
            "type": "string",
            "description": "发送时间"
          }
        },
        "required": [
          "status",
          "phone",
          "sign",
          "template"
        ]
      },
      "SmsRecord": {
        "type": "object",
        "properties": {
          "status": {
            "description": "发送状态",
            "allOf": [
              {
                "$ref": "#/components/schemas/SmsStatus"
              }
            ]
          },
          "phone": {
            "type": "string",
            "description": "手机号"
          },
          "sign": {
            "type": "string",
            "description": "签名"
          },
          "template": {
            "type": "string",
            "description": "模板"
          },
          "params": {
            "type": "string",
            "description": "参数"
          },
          "sentAt": {
            "format": "date-time",
            "type": "string",
            "description": "发送时间"
          },
          "id": {
            "type": "string",
            "description": "Entity id"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity created at when"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity updated at when"
          },
          "createdBy": {
            "type": "string",
            "description": "Entity created by who"
          },
          "updatedBy": {
            "type": "string",
            "description": "Entity updated by who"
          }
        },
        "required": [
          "status",
          "phone",
          "sign",
          "template",
          "id"
        ]
      },
      "UpdateSmsRecordDto": {
        "type": "object",
        "properties": {
          "status": {
            "description": "发送状态",
            "allOf": [
              {
                "$ref": "#/components/schemas/SmsStatus"
              }
            ]
          },
          "phone": {
            "type": "string",
            "description": "手机号"
          },
          "sign": {
            "type": "string",
            "description": "签名"
          },
          "template": {
            "type": "string",
            "description": "模板"
          },
          "params": {
            "type": "string",
            "description": "参数"
          },
          "sentAt": {
            "format": "date-time",
            "type": "string",
            "description": "发送时间"
          }
        }
      },
      "createThirdPartyDto": {
        "type": "object",
        "properties": {
          "source": {
            "type": "string",
            "description": "第三方登录来源"
          },
          "tid": {
            "type": "string",
            "description": "第三方登录的用户唯一标识"
          },
          "accessToken": {
            "type": "string",
            "description": "第三方登录 accessToken"
          },
          "expireAt": {
            "type": "number",
            "description": "第三方登录过期时间"
          },
          "tokenType": {
            "type": "string",
            "description": "第三方登录 token 类型"
          },
          "refreshToken": {
            "type": "string",
            "description": "第三方登录 refreshToken"
          },
          "refreshTokenExpireAt": {
            "type": "number",
            "description": "第三方登录 refreshToken 过期时间"
          },
          "uid": {
            "type": "string",
            "description": "关联uid"
          },
          "data": {
            "type": "string",
            "description": "用于存储第三方的额外数据"
          }
        },
        "required": [
          "source",
          "tid",
          "accessToken",
          "data"
        ]
      },
      "ThirdParty": {
        "type": "object",
        "properties": {
          "source": {
            "type": "string",
            "description": "第三方登录来源"
          },
          "tid": {
            "type": "string",
            "description": "第三方登录的用户唯一标识"
          },
          "accessToken": {
            "type": "string",
            "description": "第三方登录 accessToken"
          },
          "expireAt": {
            "type": "number",
            "description": "第三方登录过期时间"
          },
          "tokenType": {
            "type": "string",
            "description": "第三方登录 token 类型"
          },
          "refreshToken": {
            "type": "string",
            "description": "第三方登录 refreshToken"
          },
          "refreshTokenExpireAt": {
            "type": "number",
            "description": "第三方登录 refreshToken 过期时间"
          },
          "uid": {
            "type": "string",
            "description": "关联uid"
          },
          "data": {
            "type": "string",
            "description": "用于存储第三方的额外数据"
          },
          "id": {
            "type": "string",
            "description": "Entity id"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity created at when"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity updated at when"
          },
          "createdBy": {
            "type": "string",
            "description": "Entity created by who"
          },
          "updatedBy": {
            "type": "string",
            "description": "Entity updated by who"
          }
        },
        "required": [
          "source",
          "tid",
          "accessToken",
          "data",
          "id"
        ]
      },
      "UpdateThirdPartyDto": {
        "type": "object",
        "properties": {
          "source": {
            "type": "string",
            "description": "第三方登录来源"
          },
          "tid": {
            "type": "string",
            "description": "第三方登录的用户唯一标识"
          },
          "accessToken": {
            "type": "string",
            "description": "第三方登录 accessToken"
          },
          "expireAt": {
            "type": "number",
            "description": "第三方登录过期时间"
          },
          "tokenType": {
            "type": "string",
            "description": "第三方登录 token 类型"
          },
          "refreshToken": {
            "type": "string",
            "description": "第三方登录 refreshToken"
          },
          "refreshTokenExpireAt": {
            "type": "number",
            "description": "第三方登录 refreshToken 过期时间"
          },
          "uid": {
            "type": "string",
            "description": "关联uid"
          },
          "data": {
            "type": "string",
            "description": "用于存储第三方的额外数据"
          }
        }
      },
      "bindThirdPartyDto": {
        "type": "object",
        "properties": {
          "login": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "source": {
            "type": "string"
          },
          "tid": {
            "type": "string"
          }
        },
        "required": [
          "login",
          "source",
          "tid"
        ]
      },
      "CreateUserDto": {
        "type": "object",
        "properties": {
          "password": {
            "type": "string",
            "description": "密码",
            "writeOnly": true
          },
          "hasPassword": {
            "type": "boolean",
            "description": "是否有密码",
            "readOnly": true
          },
          "groups": {
            "description": "团队",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "labels": {
            "description": "标签",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "permissions": {
            "description": "权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "roles": {
            "description": "角色",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "avatar": {
            "type": "string",
            "description": "头像"
          },
          "birthday": {
            "format": "date-time",
            "type": "string",
            "description": "生日"
          },
          "data": {
            "type": "string",
            "description": "额外数据"
          },
          "email": {
            "type": "string",
            "nullable": true,
            "description": "邮箱"
          },
          "name": {
            "type": "string",
            "description": "姓名"
          },
          "identity": {
            "type": "string"
          },
          "identityVerifiedAt": {
            "format": "date-time",
            "type": "string",
            "description": "实名认证时间"
          },
          "identityVerified": {
            "type": "boolean",
            "description": "实名认证是否通过"
          },
          "intro": {
            "type": "string",
            "description": "简介"
          },
          "inviter": {
            "type": "string",
            "description": "邀请人"
          },
          "language": {
            "type": "string",
            "description": "使用语言"
          },
          "level": {
            "type": "number",
            "description": "等级"
          },
          "nickname": {
            "type": "string",
            "description": "昵称"
          },
          "ns": {
            "type": "string",
            "description": "所属命名空间"
          },
          "phone": {
            "type": "string",
            "nullable": true,
            "description": "手机号"
          },
          "registerIp": {
            "type": "string",
            "description": "注册 IP"
          },
          "registerRegion": {
            "type": "string",
            "description": "注册地区，存地区编号"
          },
          "username": {
            "type": "string",
            "description": "用户名"
          },
          "employeeId": {
            "type": "string",
            "nullable": true,
            "description": "员工编号"
          },
          "active": {
            "type": "boolean",
            "description": "是否启用"
          },
          "status": {
            "type": "string",
            "description": "状态"
          },
          "expireAt": {
            "format": "date-time",
            "type": "string",
            "description": "过期时间"
          },
          "type": {
            "type": "string",
            "description": "类型, 登录端"
          }
        }
      },
      "UpdateUserDto": {
        "type": "object",
        "properties": {
          "hasPassword": {
            "type": "boolean",
            "description": "是否有密码",
            "readOnly": true
          },
          "avatar": {
            "type": "string",
            "description": "头像"
          },
          "birthday": {
            "format": "date-time",
            "type": "string",
            "description": "生日"
          },
          "data": {
            "type": "string",
            "description": "额外数据"
          },
          "email": {
            "type": "string",
            "nullable": true,
            "description": "邮箱"
          },
          "name": {
            "type": "string",
            "description": "姓名"
          },
          "identity": {
            "type": "string"
          },
          "identityVerifiedAt": {
            "format": "date-time",
            "type": "string",
            "description": "实名认证时间"
          },
          "identityVerified": {
            "type": "boolean",
            "description": "实名认证是否通过"
          },
          "intro": {
            "type": "string",
            "description": "简介"
          },
          "inviter": {
            "type": "string",
            "description": "邀请人"
          },
          "labels": {
            "description": "标签",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "language": {
            "type": "string",
            "description": "使用语言"
          },
          "lastLoginIp": {
            "type": "string",
            "description": "最后登录 IP"
          },
          "lastSeenAt": {
            "format": "date-time",
            "type": "string",
            "description": "最后活跃时间"
          },
          "level": {
            "type": "number",
            "description": "等级"
          },
          "nickname": {
            "type": "string",
            "description": "昵称"
          },
          "ns": {
            "type": "string",
            "description": "所属命名空间"
          },
          "phone": {
            "type": "string",
            "nullable": true,
            "description": "手机号"
          },
          "registerIp": {
            "type": "string",
            "description": "注册 IP"
          },
          "registerRegion": {
            "type": "string",
            "description": "注册地区，存地区编号"
          },
          "roles": {
            "description": "角色",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "username": {
            "type": "string",
            "description": "用户名"
          },
          "employeeId": {
            "type": "string",
            "nullable": true,
            "description": "员工编号"
          },
          "permissions": {
            "description": "权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "groups": {
            "description": "团队",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "lastLoginAt": {
            "format": "date-time",
            "type": "string",
            "description": "最后登录时间"
          },
          "active": {
            "type": "boolean",
            "description": "是否启用"
          },
          "status": {
            "type": "string",
            "description": "状态"
          },
          "expireAt": {
            "format": "date-time",
            "type": "string",
            "description": "过期时间"
          },
          "type": {
            "type": "string",
            "description": "类型, 登录端"
          }
        }
      },
      "UpdatePasswordDto": {
        "type": "object",
        "properties": {
          "oldPassword": {
            "type": "string",
            "description": "旧密码"
          },
          "newPassword": {
            "type": "string",
            "description": "新密码"
          }
        },
        "required": [
          "newPassword"
        ]
      },
      "AggregateUserDto": {
        "type": "object",
        "properties": {
          "group": {
            "type": "array",
            "description": "The group by clause",
            "items": {
              "type": "string",
              "enum": [
                "level",
                "labels",
                "language",
                "ns",
                "registerRegion",
                "roles",
                "groups",
                "active",
                "status",
                "createdAt"
              ]
            }
          },
          "dateUnit": {
            "type": "string",
            "description": "Date unit for time-based grouping when createdAt is in group",
            "enum": [
              "hour",
              "day",
              "week",
              "month",
              "year"
            ]
          }
        }
      },
      "DateGroup": {
        "type": "object",
        "properties": {
          "year": {
            "type": "number"
          },
          "month": {
            "type": "number"
          },
          "week": {
            "type": "number"
          },
          "day": {
            "type": "number"
          },
          "hour": {
            "type": "number"
          }
        }
      },
      "UserAggregateResult": {
        "type": "object",
        "properties": {
          "level": {
            "type": "number"
          },
          "label": {
            "type": "string"
          },
          "language": {
            "type": "string"
          },
          "ns": {
            "type": "string"
          },
          "registerRegion": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "group": {
            "type": "string"
          },
          "active": {
            "type": "boolean"
          },
          "status": {
            "type": "string"
          },
          "createdAt": {
            "$ref": "#/components/schemas/DateGroup"
          },
          "count": {
            "type": "number",
            "description": "统计数量"
          }
        },
        "required": [
          "count"
        ]
      },
      "Industry": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "编码"
          },
          "name": {
            "type": "string",
            "description": "名称"
          },
          "children": {
            "description": "子集",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Industry"
            }
          }
        },
        "required": [
          "code",
          "name",
          "children"
        ]
      },
      "Region": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "缩写"
          },
          "nameZh": {
            "type": "string",
            "description": "中文名称"
          },
          "namePinyin": {
            "type": "string",
            "description": "中文拼音"
          },
          "nameEn": {
            "type": "string",
            "description": "英文名称"
          },
          "dialingPrefix": {
            "type": "string",
            "description": "电话前缀"
          }
        },
        "required": [
          "code",
          "nameZh",
          "namePinyin",
          "nameEn",
          "dialingPrefix"
        ]
      },
      "CreateRoleDto": {
        "type": "object",
        "properties": {
          "permissions": {
            "description": "权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "key": {
            "type": "string",
            "description": "role key"
          },
          "name": {
            "type": "string",
            "description": "名称"
          }
        },
        "required": [
          "key",
          "name"
        ]
      },
      "Role": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string",
            "description": "role key"
          },
          "name": {
            "type": "string",
            "description": "名称"
          },
          "permissions": {
            "description": "权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "id": {
            "type": "string",
            "description": "Entity id"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity created at when"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Entity updated at when"
          },
          "createdBy": {
            "type": "string",
            "description": "Entity created by who"
          },
          "updatedBy": {
            "type": "string",
            "description": "Entity updated by who"
          }
        },
        "required": [
          "key",
          "name",
          "permissions",
          "id"
        ]
      },
      "UpdateRoleDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "名称"
          },
          "permissions": {
            "description": "权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "ListUsersQuery": {
        "type": "object",
        "properties": {
          "id": {
            "description": "按 id 筛选",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "ns": {
            "description": "所属命名空间",
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          },
          "ns_start": {
            "description": "所属命名空间 start 查询",
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          },
          "_sort": {
            "type": "string",
            "description": "排序参数",
            "enum": [
              "createdAt",
              "-createdAt",
              "updatedAt",
              "-updatedAt",
              "lastLoginAt",
              "-lastLoginAt",
              "expireAt",
              "-expireAt"
            ]
          },
          "name_like": {
            "type": "string",
            "description": "名称 模糊查询"
          },
          "username_like": {
            "type": "string",
            "description": "用户名 模糊查询"
          },
          "nickname_like": {
            "type": "string",
            "description": "昵称 模糊查询"
          },
          "ns_tree": {
            "type": "string",
            "description": "所属命名空间的 tree 查询"
          },
          "expireAt_gte": {
            "format": "date-time",
            "type": "string",
            "description": "过期时间大于该时间"
          },
          "expireAt_lte": {
            "format": "date-time",
            "type": "string",
            "description": "过期时间小于该时间"
          },
          "active": {
            "type": "boolean",
            "description": "是否启用"
          },
          "email": {
            "type": "string",
            "nullable": true,
            "description": "邮箱"
          },
          "groups": {
            "description": "团队",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "inviter": {
            "type": "string",
            "description": "邀请人"
          },
          "labels": {
            "description": "标签",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "name": {
            "type": "string",
            "description": "姓名"
          },
          "phone": {
            "type": "string",
            "nullable": true,
            "description": "手机号"
          },
          "registerRegion": {
            "type": "string",
            "description": "注册地区，存地区编号"
          },
          "roles": {
            "description": "角色",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "status": {
            "type": "string",
            "description": "状态"
          },
          "type": {
            "type": "string",
            "description": "类型, 登录端"
          },
          "username": {
            "type": "string",
            "description": "用户名"
          },
          "_limit": {
            "type": "number",
            "description": "分页大小"
          },
          "_offset": {
            "type": "number",
            "description": "分页偏移"
          }
        }
      },
      "ListNamespacesQuery": {
        "type": "object",
        "properties": {
          "key": {
            "description": "按 key 查询",
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          },
          "key_start": {
            "description": "key start 查询",
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          },
          "key_tree": {
            "type": "string",
            "description": "key tree 查询"
          },
          "ns": {
            "description": "所属命名空间",
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          },
          "ns_start": {
            "description": "所属命名空间 start 查询",
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          },
          "ns_tree": {
            "type": "string",
            "description": "所属命名空间 tree 查询"
          },
          "_sort": {
            "type": "string",
            "description": "排序参数",
            "enum": [
              "createdAt",
              "-createdAt",
              "updatedAt",
              "-updatedAt",
              "key",
              "-key",
              "name",
              "-name"
            ]
          },
          "name_like": {
            "type": "string",
            "description": "名称 模糊查询"
          },
          "labels": {
            "description": "标签",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "_limit": {
            "type": "number",
            "description": "分页大小"
          },
          "_offset": {
            "type": "number",
            "description": "分页偏移"
          }
        }
      },
      "GetAuthorizerQuery": {
        "type": "object",
        "properties": {
          "provider": {
            "type": "string"
          },
          "redirectUri": {
            "type": "string"
          },
          "responseType": {
            "type": "string"
          },
          "state": {
            "type": "string"
          }
        },
        "required": [
          "provider"
        ]
      },
      "ListCaptchasQuery": {
        "type": "object",
        "properties": {
          "_sort": {
            "type": "string",
            "description": "排序参数",
            "enum": [
              "createdAt",
              "-createdAt",
              "updatedAt",
              "-updatedAt",
              "expireAt",
              "-expireAt"
            ]
          },
          "code": {
            "type": "string",
            "description": "验证码"
          },
          "key": {
            "type": "string",
            "description": "key"
          },
          "_limit": {
            "type": "number",
            "description": "分页大小"
          },
          "_offset": {
            "type": "number",
            "description": "分页偏移"
          }
        }
      },
      "ListEmailRecordsQuery": {
        "type": "object",
        "properties": {
          "status": {
            "description": "发送状态",
            "allOf": [
              {
                "$ref": "#/components/schemas/EmailStatus"
              }
            ]
          },
          "_sort": {
            "type": "string",
            "description": "排序参数",
            "enum": [
              "createdAt",
              "-createdAt",
              "updatedAt",
              "-updatedAt",
              "sentAt",
              "-sentAt"
            ]
          },
          "createdAt_gt": {
            "format": "date-time",
            "type": "string",
            "description": "创建时间大于该时间"
          },
          "createdAt_lt": {
            "format": "date-time",
            "type": "string",
            "description": "创建时间小于该时间"
          },
          "sentAt_gt": {
            "format": "date-time",
            "type": "string",
            "description": "发送时间大于该时间"
          },
          "sentAt_lt": {
            "format": "date-time",
            "type": "string",
            "description": "发送时间小于该时间"
          },
          "from": {
            "type": "string",
            "description": "发件者"
          },
          "to": {
            "type": "string",
            "description": "收件者"
          },
          "_limit": {
            "type": "number",
            "description": "分页大小"
          },
          "_offset": {
            "type": "number",
            "description": "分页偏移"
          }
        }
      },
      "ListGroupsQuery": {
        "type": "object",
        "properties": {
          "_sort": {
            "type": "string",
            "description": "排序参数",
            "enum": [
              "createdAt",
              "-createdAt",
              "updatedAt",
              "-updatedAt"
            ]
          },
          "id": {
            "description": "按 id 筛选",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "name_like": {
            "type": "string",
            "description": "名称 模糊查询"
          },
          "name": {
            "type": "string",
            "description": "名称"
          },
          "active": {
            "type": "boolean",
            "description": "是否启用"
          },
          "_limit": {
            "type": "number",
            "description": "分页大小"
          },
          "_offset": {
            "type": "number",
            "description": "分页偏移"
          }
        }
      },
      "ListIndustriesQuery": {
        "type": "object",
        "properties": {
          "depth": {
            "type": "number",
            "description": "返回的层数\n默认返回所有层级"
          }
        }
      },
      "ListRolesQuery": {
        "type": "object",
        "properties": {
          "_sort": {
            "type": "string",
            "description": "排序参数",
            "enum": [
              "createdAt",
              "-createdAt",
              "updatedAt",
              "-updatedAt"
            ]
          },
          "name_like": {
            "type": "string",
            "description": "名称 模糊查询"
          },
          "name": {
            "type": "string",
            "description": "名称"
          },
          "key": {
            "type": "string",
            "description": "role key"
          },
          "_limit": {
            "type": "number",
            "description": "分页大小"
          },
          "_offset": {
            "type": "number",
            "description": "分页偏移"
          }
        }
      },
      "ListSessionsQuery": {
        "type": "object",
        "properties": {
          "_sort": {
            "type": "string",
            "description": "排序参数",
            "enum": [
              "createdAt",
              "-createdAt",
              "updatedAt",
              "-updatedAt",
              "expireAt",
              "-expireAt"
            ]
          },
          "refreshToken": {
            "type": "string",
            "description": "用 key 进行查询"
          },
          "subject": {
            "type": "string",
            "description": "用户或第三方用户 id"
          },
          "source": {
            "type": "string",
            "description": "如果来自第三方，则会加上 source"
          },
          "permissions": {
            "description": "角色之外的权限",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "roles": {
            "description": "角色",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "groups": {
            "description": "用户所属的组",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "ns": {
            "type": "string",
            "description": "user ns"
          },
          "type": {
            "type": "string",
            "description": "用户类型"
          },
          "oneTimeUse": {
            "type": "boolean",
            "description": "一次性的，禁止轮换"
          },
          "remark": {
            "type": "string",
            "description": "备注"
          },
          "_limit": {
            "type": "number",
            "description": "分页大小"
          },
          "_offset": {
            "type": "number",
            "description": "分页偏移"
          }
        }
      },
      "ListSmsRecordsQuery": {
        "type": "object",
        "properties": {
          "status": {
            "description": "发送状态",
            "allOf": [
              {
                "$ref": "#/components/schemas/SmsStatus"
              }
            ]
          },
          "_sort": {
            "type": "string",
            "description": "排序参数",
            "enum": [
              "createdAt",
              "-createdAt",
              "updatedAt",
              "-updatedAt",
              "sentAt",
              "-sentAt"
            ]
          },
          "createdAt_gt": {
            "format": "date-time",
            "type": "string",
            "description": "创建时间大于该时间"
          },
          "createdAt_lt": {
            "format": "date-time",
            "type": "string",
            "description": "创建时间小于该时间"
          },
          "sentAt_gt": {
            "format": "date-time",
            "type": "string",
            "description": "发送时间大于该时间"
          },
          "sentAt_lt": {
            "format": "date-time",
            "type": "string",
            "description": "发送时间小于该时间"
          },
          "phone": {
            "type": "string",
            "description": "手机号"
          },
          "sign": {
            "type": "string",
            "description": "签名"
          },
          "_limit": {
            "type": "number",
            "description": "分页大小"
          },
          "_offset": {
            "type": "number",
            "description": "分页偏移"
          }
        }
      },
      "ListThirdPartyQuery": {
        "type": "object",
        "properties": {
          "source": {
            "type": "string",
            "description": "第三方登录来源"
          },
          "tid": {
            "type": "string",
            "description": "第三方登录的用户唯一标识"
          },
          "accessToken": {
            "type": "string",
            "description": "第三方登录 accessToken"
          },
          "expireAt": {
            "type": "number",
            "description": "第三方登录过期时间"
          },
          "tokenType": {
            "type": "string",
            "description": "第三方登录 token 类型"
          },
          "refreshToken": {
            "type": "string",
            "description": "第三方登录 refreshToken"
          },
          "refreshTokenExpireAt": {
            "type": "number",
            "description": "第三方登录 refreshToken 过期时间"
          },
          "uid": {
            "type": "string",
            "description": "关联uid"
          },
          "data": {
            "type": "string",
            "description": "用于存储第三方的额外数据"
          },
          "_limit": {
            "type": "number",
            "description": "分页大小"
          },
          "_offset": {
            "type": "number",
            "description": "分页偏移"
          }
        }
      }
    }
  }
}